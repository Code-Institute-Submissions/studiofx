angular.module("studioApp",["ngRoute","ngAnimate","navController","homeController","aboutController","workController","contactController"]),angular.module("studioApp").config(["$locationProvider","$routeProvider",function(e,o){e.html5Mode(!0),o.when("/",{templateUrl:"templates/home.html",controller:"HomeController"}).when("/about",{templateUrl:"templates/about.html",controller:"AboutController"}).when("/work",{templateUrl:"templates/work.html",controller:"WorkController"}).when("/contact",{templateUrl:"templates/contact.html",controller:"ContactController"}).otherwise({redirectTo:"/"})}]),angular.module("aboutController",[]).controller("AboutController",["$scope",function(e){console.log("About template"),e.title="About Page",e.members=[{name:"Jerry Conrad",title:"CEO and Founder",description:"Jerry is a fun guy to work with",file:"jerry_conrad"},{name:"Akira Kondo",title:"Creative Director",description:"Our solution finder",file:"akira_kondo"},{name:"Paolo Segretti",title:"Head of production",description:"Tic tac",file:"paolo_segretti"},{name:"Geoffray Lami",title:"Designer",description:"The art guy, our dreaming pencil. Working along with Akira, they are our award winning team.",file:"geoffray_lami"}]}]),angular.module("contactController",[]).controller("ContactController",["$scope","$log",function(e,o){console.log("Contact template"),e.title="Contact Page",e.contact={},e.queries=["General query","Career","Quote"],e.contact={query:e.queries[0]},e.querySent=!1,e.sendQuery=function(){e.querySent=!0,console.log("form sent"),$("#formResult").modal("show")}}]),angular.module("homeController",[]).controller("HomeController",["$scope",function(e){console.log("Home template"),e.title="Home Page"}]),angular.module("navController",[]).controller("NavController",["$scope","$location",function(e,o){e.pageClass=function(e){return e==o.path()?"nav-activ":""},$("body").click(function(){$("#navMenu").collapse("hide")})}]),angular.module("workController",[]).controller("WorkController",["$scope",function(n){console.log("Work template"),n.title="Work Page",n.hero,n.loader={},n.initGallery=!1,console.dir("hero : ",n.hero),console.dir("loader : ",n.loader),n.gallery={g3d:[{name:"Jeysen House",file:"jeysen",cat:"3d",type:"img",description:"Jeysen House designed by that famous architect"},{name:"Master bedroom",file:"bed1",cat:"3d",type:"img",description:"Indoor previsualisations for Jeysen House"},{name:"MentalPix office",file:"hkOffice",cat:"3d",type:"img",description:"MentalPix HongKong's office previsualisation"},{name:"Arkangels",file:"superpuma",cat:"3d",type:"img",description:"e-learning for helicopter pilots and mecanics"}],gtvc:[{name:"Acts of Godfrey",file:"aog",cat:"tvc",type:"img",description:"Feature film by Johnny Daukes"},{name:"London Olympic 2012",file:"ioc",cat:"tvc",type:"img",description:"International Olympic Committee campaign"},{name:"boby",file:"bobstr",cat:"tvc",type:"img",description:"Our 3D Stereo animation"},{name:"Motat",file:"motat",cat:"tvc",type:"vid",mp4:"../assets/gallery/tvc/motat_360p.mp4",description:"Motat Ad for Halloween special event"},{name:"Ptouch",file:"ptouch",cat:"tvc",type:"img",description:"3d animation for Brother"}],gmgx:[{name:"NeoHub",file:"neohub",cat:"mgx",type:"img",description:"Motion Graphics for NeoHub"},{name:"Eastern Hero",file:"eastern_hero",cat:"mgx",type:"vid",mp4:"../assets/gallery/mgx/eastern_hero_trailer.mp4",description:"Eastern Hero game trailer"}],gall:function(e){return 1==e?this.g3d.concat(this.gtvc,this.gmgx).sort(function(e,o){return e.name<o.name?-1:e.name>o.name?1:0}):this.g3d.concat(this.gtvc,this.gmgx)}},n.galleryActive=n.gallery.gall(n.initGallery),n.filter=function(e){n.hero={},n.galleryActive=[],setTimeout(function(){n.galleryActive=e,n.$digest()},500)},n.getRealSize=function(){if(console.info("ctr - getting hero real size"),"img"==n.hero.type)var e=document.getElementById("heroPic"),o=e.naturalHeight,t=e.naturalWidth;else if("vid"==n.hero.type){var i=document.getElementById("heroVid");o=i.videoHeight,t=i.videoWidth}var r=o/t;return n.heroSize={height:o,widht:t,ratio:r},n.heroSize},n.getWinSize=function(){var e=parseInt($(window).height()),o=parseInt($(window).width());return n.winSize={width:o,height:e},n.winSize},n.resizeModal=function(){console.info("resizing modal viewer"),n.getWinSize(),console.table("win size in resizeModal : ",n.winSize);var e=n.winSize.width*n.heroSize.ratio,o=(n.winSize.height-e)/2,t=parseInt(o<0?0:o);$("#viewer .modal-dialog").css("top",t+"px");var i=n.winSize.height,r=parseInt(n.winSize.height/n.heroSize.ratio);$("#viewer .modal-dialog").css("max-width",r+"px"),$("#viewer .modal-dialog").css("max-height",i+"px")},$("#viewer").on("show.bs.modal",function(){n.resizeModal(),$(window).on("resize",n.resizeModal)}),$("#viewer").on("hidden.bs.modal",function(){$(window).off("resize",n.resizeModal)}),n.$watch("loader.name",function(e,o){e!==o?(n.hero={},setTimeout(function(){n.hero=n.loader,console.dir("hero",n.hero),n.$digest()},250),setTimeout(function(){n.getRealSize(),$("#viewer").modal("show")},400)):console.info("no hero loded yet")}),n.loadHero=function(e){console.log("figure clicked"),n.loader=n.galleryActive[e],n.hero==n.loader&&$("#viewer").modal("show")},$("#viewer").on("shown.bs.modal",function(){"vid"==n.hero.type&&(console.log("hero type is vid - resuming video"),document.getElementById("heroVid").play())}),$("#viewer").on("hide.bs.modal",function(){"vid"==n.hero.type&&(console.log("hero type is vid - pausing video"),document.getElementById("heroVid").pause())})}]),angular.module("studioApp").directive("thumb",function(){return{restrict:"E",templateUrl:"../templates/directives/thumb.html"}}),angular.module("studioApp").directive("viewer",function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"../templates/directives/viewer.html"}});